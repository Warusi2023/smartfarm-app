<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SmartFarm - Comprehensive farm management solution with AI-powered insights, weather monitoring, livestock tracking, and crop management">
    <meta name="theme-color" content="#2E7D32">
    <title>SmartFarm - Intelligent Farm Management</title>
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SmartFarm">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ¾</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ¾</text></svg>">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Preload Fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Loading Indicator -->
    <div id="loading" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-seedling fa-spin"></i>
            <p>Loading SmartFarm...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-brand">
                <i class="fas fa-seedling"></i>
                <h1>SmartFarm</h1>
            </div>
            <div class="header-actions">
                <button class="btn btn-icon" id="notificationsBtn" title="Notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </button>
                <button class="btn btn-icon" id="settingsBtn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="btn btn-primary" id="addTaskBtn">
                    <i class="fas fa-plus"></i>
                    Add Task
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <button class="nav-item active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </button>
            <button class="nav-item" data-section="crops">
                <i class="fas fa-seedling"></i>
                <span>Crops</span>
            </button>
            <button class="nav-item" data-section="livestock">
                <i class="fas fa-cow"></i>
                <span>Livestock</span>
            </button>
            <button class="nav-item" data-section="equipment">
                <i class="fas fa-tractor"></i>
                <span>Equipment</span>
            </button>
            <button class="nav-item" data-section="finance">
                <i class="fas fa-chart-line"></i>
                <span>Finance</span>
            </button>
            <button class="nav-item" data-section="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="section-header">
                <h2>Dashboard</h2>
                <p>Overview of your farm operations</p>
            </div>
            
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalCrops">0</h3>
                        <p>Active Crops</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-cow"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalLivestock">0</h3>
                        <p>Livestock</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="pendingTasks">0</h3>
                        <p>Pending Tasks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="monthlyRevenue">$0</h3>
                        <p>Monthly Revenue</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="action-buttons">
                    <button class="btn btn-secondary" id="addCropBtn">
                        <i class="fas fa-plus"></i>
                        Add Crop
                    </button>
                    <button class="btn btn-secondary" id="addLivestockBtn">
                        <i class="fas fa-plus"></i>
                        Add Livestock
                    </button>
                    <button class="btn btn-secondary" id="scheduleTaskBtn">
                        <i class="fas fa-calendar"></i>
                        Schedule Task
                    </button>
                    <button class="btn btn-secondary" id="viewReportsBtn">
                        <i class="fas fa-file-alt"></i>
                        View Reports
                    </button>
                </div>
            </div>

            <!-- Recent Activities -->
            <div class="activities-section">
                <h3>Recent Activities</h3>
                <div class="activities-list" id="recentActivities">
                    <!-- Activities will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Crops Section -->
        <section id="crops" class="content-section">
            <div class="section-header">
                <h2>Crop Management</h2>
                <p>Monitor and manage your crops</p>
            </div>
            
            <div class="crops-grid" id="cropsGrid">
                <!-- Crops will be populated by JavaScript -->
            </div>
        </section>

        <!-- Livestock Section -->
        <section id="livestock" class="content-section">
            <div class="section-header">
                <h2>Livestock Management</h2>
                <p>Track your livestock health and production</p>
            </div>
            
            <div class="livestock-summary" id="livestockSummary">
                <!-- Livestock data will be populated by JavaScript -->
            </div>
        </section>

        <!-- Equipment Section -->
        <section id="equipment" class="content-section">
            <div class="section-header">
                <h2>Equipment Management</h2>
                <p>Track maintenance and usage of farm equipment</p>
            </div>
            
            <div class="equipment-grid" id="equipmentGrid">
                <!-- Equipment will be populated by JavaScript -->
            </div>
        </section>

        <!-- Finance Section -->
        <section id="finance" class="content-section">
            <div class="section-header">
                <h2>Financial Overview</h2>
                <p>Track income, expenses, and profitability</p>
            </div>
            
            <div class="finance-overview">
                <div class="finance-charts">
                    <div class="chart-container">
                        <h3>Revenue Trends</h3>
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Expense Breakdown</h3>
                        <canvas id="expenseChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="content-section">
            <div class="section-header">
                <h2>Analytics & Insights</h2>
                <p>Data-driven insights for better decision making</p>
            </div>
            
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>Yield Analysis</h3>
                    <canvas id="yieldChart"></canvas>
                </div>
                <div class="analytics-card">
                    <h3>Weather Impact</h3>
                    <canvas id="weatherChart"></canvas>
                </div>
                <div class="analytics-card">
                    <h3>Resource Utilization</h3>
                    <canvas id="resourceChart"></canvas>
                </div>
            </div>
        </section>
    </main>

    <!-- Task Management Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Task</h3>
                <button class="modal-close" id="closeTaskModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <div class="form-group">
                        <label for="taskTitle">Task Title</label>
                        <input type="text" id="taskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">Priority</label>
                        <select id="taskPriority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate">Due Date</label>
                        <input type="date" id="taskDueDate">
                    </div>
                    <div class="form-group">
                        <label for="taskCategory">Category</label>
                        <select id="taskCategory">
                            <option value="crops">Crops</option>
                            <option value="livestock">Livestock</option>
                            <option value="equipment">Equipment</option>
                            <option value="maintenance">Maintenance</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelTask">Cancel</button>
                <button class="btn btn-primary" id="saveTask">Save Task</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="closeSettingsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>Appearance</h4>
                    <div class="setting-item">
                        <label>Theme</label>
                        <select id="themeSelect">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="auto">Auto</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Font Size</label>
                        <select id="fontSizeSelect">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                        </select>
                    </div>
                </div>
                <div class="settings-section">
                    <h4>Notifications</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableNotifications" checked>
                            Enable Notifications
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableSound" checked>
                            Sound Alerts
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveSettings">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Notifications Panel -->
    <div id="notificationsPanel" class="notifications-panel">
        <div class="notifications-header">
            <h3>Notifications</h3>
            <button class="btn btn-text" id="clearAllNotifications">Clear All</button>
        </div>
        <div class="notifications-list" id="notificationsList">
            <!-- Notifications will be populated by JavaScript -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="SmartFarm.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html> 