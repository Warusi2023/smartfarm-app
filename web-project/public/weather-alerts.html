<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Alerts - SmartFarm</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/weather-alerts.css" rel="stylesheet">
    
    <!-- Load API config first -->
    <script src="js/api-config.js"></script>
    <script src="js/weather-alerts-service.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">SmartFarm</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="dashboard.html">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="weather-alerts.html">Weather Alerts</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="weather-alerts-page">
        <div class="page-header">
            <h1 class="page-title">Weather Alerts</h1>
            <p class="page-subtitle">Stay informed about weather conditions affecting your farms</p>
        </div>

        <!-- Statistics Cards -->
        <div class="alerts-stats" id="alerts-stats">
            <div class="stat-card total">
                <div class="stat-value" id="stat-total">0</div>
                <div class="stat-label">Total Alerts</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-unread">0</div>
                <div class="stat-label">Unread</div>
            </div>
            <div class="stat-card critical">
                <div class="stat-value" id="stat-critical">0</div>
                <div class="stat-label">Critical</div>
            </div>
            <div class="stat-card high">
                <div class="stat-value" id="stat-high">0</div>
                <div class="stat-label">High Priority</div>
            </div>
        </div>

        <!-- Filters -->
        <div class="alerts-filters">
            <div class="filter-group">
                <label for="filter-farm">Farm</label>
                <select id="filter-farm" class="form-select">
                    <option value="">All Farms</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="filter-severity">Severity</label>
                <select id="filter-severity" class="form-select">
                    <option value="">All Severities</option>
                    <option value="critical">Critical</option>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="filter-type">Type</label>
                <select id="filter-type" class="form-select">
                    <option value="">All Types</option>
                    <option value="heavy_rain">Heavy Rain</option>
                    <option value="frost">Frost</option>
                    <option value="heat_stress">Heat Stress</option>
                    <option value="strong_wind">Strong Wind</option>
                    <option value="drought">Drought</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="filter-status">Status</label>
                <select id="filter-status" class="form-select">
                    <option value="">All</option>
                    <option value="unread">Unread</option>
                    <option value="read">Read</option>
                    <option value="dismissed">Dismissed</option>
                </select>
            </div>
        </div>

        <!-- Alerts List -->
        <div id="alerts-container">
            <div class="text-center py-5">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/weather-alerts-page.js"></script>
</body>
</html>

